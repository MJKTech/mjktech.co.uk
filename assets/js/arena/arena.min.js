!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){var r;function o(t){var e=t||{},n={};return e.$on=function(t,r){return t in n||(n[t]=[]),n[t].push(r),function(){e.$off(t,r)}},e.$once=function(t,n){var r;return r=e.$on(t,(function(){r(),n.apply(this,arguments)}))},e.$off=function(t,r){if(!(t in n))return e;var o=n[t],i=o.indexOf(r);return i>-1&&o.splice(i,1),e},e.$trigger=function(t){var r,o="string"==typeof t?{type:t}:t;if(!(o.type in n))return e;r=n[o.type].slice(),o.target=e,o.preventDefault||(o.preventDefault=function(){o.__eventStopped__=!0});for(var i=0,a=r.length;i<a&&!0!==o.__eventStopped__;i++)r[i].call(e,o);return e},e.$destroyDispatch=function(){for(var t in e.$trigger("$destroyDispatch"),n)n[t].forEach((function(n){e.$off(t,n)}));e.$on=e.$trigger=function(){},n=null},e}t.exports&&(t.exports=o),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;function o(t){var e,n=function(){};function r(t,r){var o=n;n=function(){o(),e(t,r)}}function i(t,e,n){t&&t.then&&t.catch?t.then((function(t){i(t,e,n)})).catch((function(t){i(t,n,n)})):e(t)}function a(t){e=function(e,n){try{t(e,n)}catch(t){n(t)}},n(),n=void 0}function s(t){a((function(e){e(t)}))}function c(t){a((function(e,n){n(t)}))}var u={then:function(t){var n=e||r;return o((function(e,r){n((function(n){e(t(n))}),r)}))},catch:function(t){var n=e||r;return o((function(e,r){n(e,(function(e){r(t(e))}))}))},resolve:function(t){!e&&i(t,s,c)},reject:function(t){!e&&i(t,c,c)}};return t&&t(u.resolve,u.reject),u}o.all=function(t){return t=t||[],o((function(e,n){var r=t.length,o=r;if(!r)return e();function i(){--o<=0&&e(t)}function a(e,r){e&&e.then?e.then((function(e){t[r]=e,i()})).catch(n):i()}for(var s=0;s<r;++s)a(t[s],s)}))},t.exports?t.exports=window.Promise||o:void 0===(r=function(){return window.Promise||o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,a,s,c,u,l=(i=n(3),(u={requestAnimationFrame:(s=0,c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-s)),r=window.setTimeout((function(){t(e+n)}),n);return s=e+n,r},function(t){return c.call(window,t)}),cancelAnimationFrame:(a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||function(t){clearTimeout(t)},function(t){return a.call(window,t)})}).isUndefined=function(t){return void 0===t},u.isDefined=function(t){return!u.isUndefined(t)},u.isFunction=function(t){return"function"==typeof t},u.isObject=function(t){return null!==t&&"object"===o(t)},u.isString=function(t){return"string"==typeof t},u.isNumber=function(t){return"number"==typeof t},u.isArray=Array.isArray,u.arrayDiff=function(t,e){return t.filter((function(t){return e.indexOf(t)<0}))},u.objectAssign=Object.assign||function(t){for(var e=Object(t),n=1,r=arguments.length;n<r;n++){var o=arguments[n];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},u.copyObject=function(t){return u.objectAssign({},t)},u.deleteObjProp=function(t,e){try{delete t[e]}finally{t[e]&&(t[e]=null)}return t},u.objectToArray=function(t,e){if(t instanceof Array)return t;for(var n in e=e||[],t)e.push(t[n]);return e},u.objectLength=function(t){if("function"==typeof Object.keys)return Object.keys(t).length;var e=0;for(var n in t)t&&t.hasOwnProperty&&t.hasOwnProperty(n)&&e++;return e},u.objectKeys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},u.toCamelCalse=function(t,e){var n=new RegExp("["+(e||"-._")+"](.)","g");return t.toLowerCase().replace(n,(function(t,e){return e.toUpperCase()}))},u.camelCaseTo=function(t,e){return t.replace(/([a-z])([A-Z])/g,"$1"+(e||"-")+"$2").toLowerCase()},u.generateHash=function(t,e){var n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";e&&(r+="0123456789");for(var o=0,i=t||5,a=r.length;o<i;o++)n+=r.charAt(Math.floor(Math.random()*a));return n},u.randomNumber=function(t,e){return u.isUndefined(t)&&(t=1),u.isUndefined(e)&&(e=0),Math.floor(Math.random()*(t-e+1))+e},u.preventEvent=function(t,e,n){return!!t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&!n&&t.stopPropagation(),e&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),t)},u.debounce=function(t,e,n){var r=null;return e||(e=10),"number"==typeof n&&(e+=u.randomNumber(n,Math.random()<.5)),function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout((function(){t.apply(n,o)}),e)}},u.addCSSRule=function(t,e,n,r){try{"number"==typeof r?r=document.styleSheets[r]:void 0===r&&(r=document.styleSheets[document.styleSheets.length-1]),"number"!=typeof n&&(n=r.cssRules.length),"insertRule"in r?r.insertRule(t+"{"+e+"}",n):"addRule"in r&&r.addRule(t,e,n)}catch(t){}},u.updatePageTitle=function(t){try{var e=t.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ");document.getElementsByTagName("title")[0].innerHTML=e}catch(t){}document.title=t},u.addNavigatorDataToHtml=function(){document.documentElement.setAttribute("data-useragent",navigator.userAgent),document.documentElement.setAttribute("data-platform",navigator.platform)},u.addJSClass=function(t){var e=t||document.documentElement;e.className=("js "+e.className.replace("no-js","")).trim()},u.getInnerVH=function(){return Math.min(window.innerHeight,document.documentElement.clientHeight,window.screen?window.screen.height:window.outerHeight)},u.setInnerVHVar=function(t){document.documentElement.style.setProperty(t||"--vh100","".concat(u.getInnerVH(),"px"))},u.toggleOverflow=function(t){function e(e,n){return $(e)[void 0===n?"toggleClass":n?"addClass":"removeClass"](t)}return e.off=function(t){return e(t,!0)},e.on=function(t){return e(t,!1)},u.addCSSRule("."+t,"overflow:hidden !important"),i.IOS&&u.addCSSRule("html."+t+",body."+t,"position:relative !important"),e}("toggleOverflowClass_overflow-on"),u);t.exports?t.exports=l:void 0===(r=function(){return l}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o,i,a,s,c,u=(o=document.documentElement,i=navigator.userAgent,a=document.body.style,s=window.getComputedStyle?window.getComputedStyle(o):[],(c={lastAnimationFrame:0}).cookiesEnabled=navigator.cookieEnabled,c.IE=/msie/i.test(i)&&parseFloat?parseFloat(navigator.appVersion.split("MSIE")[1]):0,c.historyAPI=!(!window.history||!history.pushState),c.Chrome=!c.IE&&/Chrome/i.test(i),c.Webkit=!c.IE&&(c.Chrome||/Safari/.test(i)),c.Opera=!c.IE&&!c.Webkit&&/opera/i.test(i),c.IOS=i.match(/(iPad|iPhone|iPod)/i)||!1,c.Mobile=Array.prototype.indexOf&&(" "+o.className+" ").replace(/[\n\t]/g," ").indexOf("mobile-browser")>-1,c.mediaQueries=window.Modernizr?Modernizr.mq("only all")?1:-1:0,c.touch="ontouchstart"in document.body,c.backgroundSizing=!!("backgroundSize"in o.style),c.prefix=function(){if(s.length){var t=(Array.prototype.slice.call(s).join("").match(/-(moz|webkit|ms|khtml)-/)||""===s.OLink&&["","o"])[1];return{dom:"WebKit|Moz|MS|O|Khtml".match(new RegExp("("+t+")","i"))[1],lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}return{dom:"MS",lowercase:"ms",css:"-ms-",js:"Ms"}}(),c.placeholders="placeholder"in document.createElement("input"),c.supports=function(t){return t in s?t:(t=t.replace(/^[a-z]/,(function(t){return t.toUpperCase()})),c.prefix.js+t in a&&c.prefix.lowercase+t)},c.supportsSvgImg=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),c.transitions=c.supports("transition"),c.transitions&&(c.transitions={start:"transition"===c.transitions?"transitionstart":c.transitions+"Start",end:"transition"===c.transitions?"transitionend":c.transitions+"End"}),c.animations=c.supports("animation"),c.animations&&(c.animations={start:"animation"===c.animations?"animationstart":c.animations+"Start",end:"animation"===c.animations?"animationend":c.animations+"End"}),c.requestAnimationFrame=window.requestAnimationFrame||window[c.prefix.lowercase+"RequestAnimationFrame"]||function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-c.lastAnimationFrame));return c.lastAnimationFrame=e+n,window.setTimeout((function(){t(e+n)}),n)},c);t.exports?t.exports=u:void 0===(r=function(){return u}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;
/** 
 * @global ARENA
 * @description 
 * 		The ArenaJs front-end framework is a toolbox that evolved to help develop a website as 
 * 		a single-page-app.
 * 		Using the principle of progressive enhancement, unobtrusive JavaScript can be used 
 * 		to quickly augment a functional MVP and apply more advanced, non-essential features as the 
 * 		environment permits, in a non-pollutive way. 
 *
 * @author Nathan Johnson <professionalnathan@gmail.com>
 * @license: Apache-2.0
 * @version: 0.5.5
 * @requires jQuery
 */!function(o,i){"use strict";var a=o(window),s=o(document),c=o(document.documentElement),u={html5Mode:!0,autoBootstrap:!0,rootElementSelector:"html",defaultTransitionSpeed:300},l=n(5),f=n(6),p=n(7),d=n(2),h={directive:{},controller:{},service:{}};function m(t){var e=new d.MakeEventDispatch(this),n=new l,r=[];e.deleteObjProp(e,"$destroyDispatch"),e.$config=e.objectAssign({},u,e.isString(t)?{name:t}:t),e.$provider=new f(h),e.$compiler=new p(e.$provider),e.$directive=function(){return e.$provider.directive.apply(e,arguments)},e.$controller=function(){return e.$provider.controller.apply(e,arguments)},e.$service=function(){return e.$provider.service.apply(e,arguments)},e.$provider.service("$app",(function(){return e})).alias("$app",e.$config.name),["sessionStorage","localStorage"].forEach((function(t){var n=e.$config.name+"_$$storage_",r="$"+t;e[r]={setItem:function(e,r){window[t].setItem(n+e,r)},getItem:function(e){return window[t].getItem(n+e)}},e.$provider.service(r,(function(){return e[r]}))})),e.$bootstrapDefer=function(t){Array.isArray(t)?r=r.concat(t):t.then&&r.push(t)},e.$service("$rootScope",(function(){return n})).$service("$config",(function(){return e.$config})),e.$bootstrap=function(){var t=o(e.$config.rootElementSelector).eq(0);function i(r){return e.$compiler.compile(t[0],n),r}return e.$bootstrap=!1,e.$service("$rootElement",(function(){return t})),e.$viewportMonitor=new e.ViewportMonitor,e.$scrollMonitor=new e.ScrollMonitor(window),e.$breakpointMonitor=new e.BreakpointMonitor({mobile:[0,540],desktop:[541,16384]},t),e.$breakpointMonitor.$on("viewportBreakpointChanged",e.$trigger),e.$service("$viewportMonitor",(function(){return e.$viewportMonitor})).$service("$scrollMonitor",(function(){return e.$scrollMonitor})).$service("$breakpointMonitor",(function(){return e.$breakpointMonitor})),e.$trigger("$bootstrapStart"),e.Promise.all(r).then(i).catch(i).then((function(t){return e.$bootstrap=!0,e.$trigger("$bootstrapEnd"),t}))},e.$config.autoBootstrap&&s.ready(e.$bootstrap)}d.$=o,d.$browser=n(3),d.$cookie=n(8),d.Promise=n(1),d.provisionaryPromise=n(9),d.MakeEventDispatch=n(0),d.ViewportMonitor=n(10),d.ScrollMonitor=n(11),d.BreakpointMonitor=n(12),d.TransitionMonitor=n(13),d.GestureMonitor=n(14),d.viewUpdater=n(15),d.loadImgSrc=n(16),d.addNavigatorDataToHtml(),d.addJSClass(),m.prototype=d,"directive controller service".split(" ").forEach((function(t){m["$"+t]=function(e,n){if(h[t][e])throw new Error("Provider already exists: "+e);return h[t][e]=n,m}})),d.objectKeys(d).forEach((function(t){m.$service(t,(function(){return d[t]}))})),m.$service("$html",(function(){return c})).$service("$window",(function(){return a})).$service("$document",(function(){return s})).$service("$router",n(17)).$directive("controller",n(18)).$directive("mainView",n(19)),window.ARENA=m,t.exports&&(t.exports=m),void 0===(r=function(){return m}.call(e,n,e,t))||(t.exports=r)}(jQuery)},function(t,e,n){var r,o=function(t){"use strict";return function e(n,r){var o=t(this),i=(n&&n.$children?n.$children.length:0).toString();this.$id=n&&n.$id?n.$id+"."+i:i,n&&(this.$parent=n,n.$children.push(o)),this.$children=[],this.$create=function(t,n){var r;if(t)r=new e(o,n);else{var i=function(){return e.call(this,o,n)};i.prototype=o,r=new i}return r.$root||(r.$root=o.$root||o),r},this.$destroy=function(){if(o.$parent){o.$trigger("$destroy");for(var t=o.$children.length;t;t--)o.$children[t-1].$destroy();var e=o.$parent.$children;e.splice(e.indexOf(o),1),o.$destroyDispatch(),o.$parent=o.$root=o.$$watchers=null,o.$destroyed=!0}},this.$emit=function(t){if(!t.stopPropagation)try{t.stopPropagation=function(){t.__propagationStopped__=!0}}catch(t){}return o.$trigger(t),o.$children.forEach((function(e){t.__propagationStopped__||e.$emit(t)})),o},this.$broadcast=function(t){if(!t.stopPropagation)try{t.stopPropagation=function(){t.__propagationStopped__=!0}}catch(t){}return o.$trigger(t),o.$parent&&!t.__propagationStopped__&&o.$parent.$broadcast(t),o},"function"==typeof r&&r(this)}}(n(0));t.exports&&(t.exports=o),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o=function(t){"use strict";var e=" _DIRECTIVE_",n=" _CONTROLLER_";return function(r){var o=this,i={},a={$$directiveSelectors:[]};function s(t,e){return e=e||{},(Array.isArray(t.$dependencies)?t.$dependencies:(n=t,r=n.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,"").match(/\((.*?)\)/),r&&r[1]?r[1].split(",").map((function(t){return t.trim()})):[])).map((function(t){return e[t]||o.service(t,null,e)}));var n,r}function c(t){if(i[t])throw new Error("Provider already exists: "+t);return t}this.directive=function(t,n,r){if(!arguments.length)return a.$$directiveSelectors;var s=t+e;if(t&&!n){var u=i[s],l=a[s];if(void 0!==l)return l;if(!u)return;return"function"==typeof(l=o.invoke(u,r))&&(l={link:l}),a[s]=l}return c(s),i[s]=n,a.$$directiveSelectors.push(t),this},this.controller=function(t,e,r){var a=t+n;if(t&&!e){var s=i[a];return s?o.instantiate(s,r):void 0}return c(a),i[a]=e,this},this.service=function(t,e,n){if(!t||e)return c(t)&&(i[t]=e),this;var r=i[t],s=a[t];if(void 0!==s)return s;if("function"==typeof r){var u=o.instantiate(r,n);return!1!==r.$cache&&(a[t]=u),u}},this.invoke=function(t,e){return t.apply(null,s(t,e))},this.instantiate=function(t,e){return function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n}(t,s(t,e))},this.alias=function(e,n,r){var i;if(["service","directive","controller"].forEach((function(a){var s=o[a](e);s!==t&&(i=o[a](n,(function(){return"function"==typeof r?r(Object.create(s)):s})))})),!i)throw new Error(e+" has not been provided.");return o},r&&"directive controller service".split(" ").forEach((function(t){for(var e in r[t])o[t](e,r[t][e])}))}}();t.exports&&(t.exports=o),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t,e,n,r){"use strict";function i(t){this.name=t,this.nameSanitized=this.name.replace(/[^0-9a-zA-Z-_]/g,""),this.nameDashed=this.nameSanitized.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var e=[];if(0===this.name.indexOf(".")){new RegExp(" "+this.name.slice(1)+" ");e.push((function(t){return(" "+t.className+" ").indexOf(" "+this.nameSanitized+" ")>-1}))}else if(0===this.name.indexOf("#")){var n=this.name.slice(1);e.push((function(t){return t.getAttribute("id")===n}))}else e.push((function(t){return t.nodeName.toLowerCase()===this.nameDashed||t.hasAttribute(this.nameSanitized)||t.hasAttribute(this.nameDashed)||t.hasAttribute("data-"+this.nameDashed)}));this.test=function(t){if(t.tagName)for(var n=0;n<e.length;n++)if(e[n].call(this,t))return!0;return!1}}function a(e,n){return e[t]?e[t][n]:null}function s(e,n,r){e[t]||(e[t]={}),e[t][n]=r}return function(t){var c=this,u=[];this.provider=t,this.findDirectives=function(e,n){var r=[],o=t.directive();return o.length!==u.length&&o.slice(u.length).forEach((function(t){u.push(new i(t))})),u.forEach((function(o,i){o.test(e)&&r.push(t.directive(o.name,null,n))})),r},this.compile=function(i,u,l,f,p){var d,h,m=u||function t(e){return a(e,"$scope")||t(e.parentNode)}(i.parentNode),v=a(i,"$scope"),g=v,w=a(i,"$directives")||[],$=(d=c.findDirectives(i,{}),h=w,d.filter((function(t){return h.indexOf(t)<0}))),y=!!$.length,b=$.filter((function(t){return t.scope})).length,x=function(t){return t.filter((function(t){return"object"===o(t.scope)})).length}($),E=[];l?(v&&v.$destroy(),l=g=u?m:m.$create(x)):y&&b&&!v&&(l=g=m.$create(x));var S=y||l?e(i):null,C=S?S.data():null;function A(){return l&&(s(i,"$scope",l),S.on("$destroy",g.$destroy),g.$once("$destroy",(function(){S.off("$destroy",g.$destroy),S.removeClass("scope-linked").triggerHandler("$compile.removeScope"),s(i,"$scope",null)})),S.addClass("scope-linked")),y&&(s(i,"$directives",w.concat($)),g.$once("$destroy",(function(){s(i,"$directives",null)})),S.triggerHandler("$compile.end")),g}if(g||(g=m),g.$deferCompile||(g.$deferCompile=function(t){t&&"function"===t.then&&E.push(t)}),y&&(S.triggerHandler("$compile.start"),$.forEach((function(e){var n,i=C;"function"==typeof e.data?i=r.objectAssign({},e.data(S,g),C):"object"===o(e.data)&&(i=r.objectAssign({},e.data,C)),"function"==typeof e.controller?n=t.instantiate(e.controller,{$scope:g}):"string"==typeof e.controller&&(n=t.controller(e.controller,null,{$scope:g}));try{e.link(S,g,i,n)}catch(t){console.error("Error compiling: ",t)}}))),f||Array.prototype.slice.call(i.childNodes).forEach((function(t){g.$deferCompile(c.compile(t,g,null,!1,!0))}),c),!p||E.length)return n.all(E).then(A);A()}}}("$$compiler"+10921*Math.random(),jQuery||Zepto,n(1),n(2));t.exports&&(t.exports=i),void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o={set:function(t,e,n,r,o,i){var a,s=new Date;s.setTime(s.getTime()),n&&(n=1e3*n*60*60*24),a=new Date(s.getTime()+(n||0)),document.cookie=t+"="+escape(e)+(n?";expires="+a.toGMTString():"")+";path="+(r||"/")+(o?";domain="+o:"")+(i?";secure":"")},get:function(t){if(document.cookie.length>0){var e,n,r,o,i=document.cookie.split(";");for(e=0,n=i.length;e<n;e++)if(r=i[e].substr(0,i[e].indexOf("=")),o=i[e].substr(i[e].indexOf("=")+1),(r=r.replace(/^\s+|\s+$/g,""))==t)return decodeURI(o)}}};t.exports&&(t.exports=o),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o,i=(o=n(1),function(t,e,n,r){return new o((function(o,i){var a,s=r||100,c=n||5e3,u=setTimeout((function(){clearInterval(a),i(t+" timed out in "+c+"ms.")}),c);a=setInterval((function(){var t=e();t&&(clearTimeout(u),clearInterval(a),o(t))}),s)}))});t.exports?t.exports=i:void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o=function(t,e){var n=t(window),r={},o=new e,i="resize";function a(t){var e=window.innerWidth||window.clientWidth,n=window.innerHeight||window.clientHeight;e===r.prvWidth&&n===r.prvHeight||(r.prvWidth=r.width,r.prvHeight=r.height,r.width=e,r.height=n,o.$trigger({type:i,resizeEvent:t,viewportDimensions:r}))}function s(){var t=e(this);function n(e){t.width=e.viewportDimensions.width,t.height=e.viewportDimensions.height,t.prvHeight=e.viewportDimensions.prvHeight,t.prvWidth=e.viewportDimensions.prvWidth,e.preventDefault&&t.$trigger(e)}o.$on(i,n),n({viewportDimensions:r}),t.destroy=function(){t.$destroyDispatch(),o.$off(i,n),t.bind=function(){throw"This monitor has been destroyed."}}}return n.on("resize.viewportMonitor",a),a(),s.prototype.viewportDimensions=function(){return r},s}(jQuery||Zepto,n(0));t.exports?t.exports=o:void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o=function(t,e){var n,r,o=t(window),i=t("html, body"),a=0;function s(){n=window.innerWidth||window.clientWidth,r=window.innerHeight||window.clientHeight}function c(t,o,i,a){var s=e(this);s.element=o.getBoundingClientRect?o:o[0],s.scrollMonitor=t,"number"==typeof i&&(s.thresholdX=i),"number"==typeof a&&(s.thresholdY=a),s.checkPosition=function(t){var e=s.element.getBoundingClientRect(),o=(e.height||s.element.offsetHeight,e.width||s.element.offsetWidth,n*s.thresholdX),i=r*s.thresholdY,a={topInBounds:e.top<=r-i&&e.top>=i,bottomInBounds:e.bottom>=i&&e.bottom<=r-i,rightInBounds:e.right<=n-o&&e.right>=o,leftInBounds:e.left>=o&&e.left<=n-o,xCovered:e.left<o&&e.right>n-o,yCovered:e.top<i&&e.bottom>r-i};return a.xVisible=a.xCovered||a.rightInBounds||a.leftInBounds,a.yVisible=a.yCovered||a.topInBounds||a.bottomInBounds,s.triggerEvents(t&&t.scrollEvent?t.scrollEvent:t,a),s};var c=t.$on("scroll",s.checkPosition);s.$on("$destroyDispatch",c)}function u(n){var r=e(this),i=n?t(n):o,s=[];function u(t){r.prvPosition=r.position||0,r.position=i.scrollTop(),r.scrollDirection=r.position>r.prvPosition?"down":"up",r.prvPosition!==r.position&&r.$trigger({type:"scroll",scrollEvent:t,scrollData:r})}r.id="scrollMonitor_"+ ++a,r.element=i,r.bind=function(t,e,n){var o={element:t,tracker:new c(r,t,e,n)};return s.push(o),o.tracker},r.unbind=function(t){s.forEach((function(e,n){e.tracker===t&&(e.tracker.$destroyDispatch(),s.splice(n,1))}))},r.destroy=function(){i.off("scroll."+r.id,u),o.off("resize."+r.id,u),r.$destroyDispatch(),s=null,r.bind=function(){throw"This monitor has been destroyed."}},i.on("scroll."+r.id,u),o.on("resize."+r.id,u),u({})}return o.on("resize.scrollMonitor",s),s(),c.prototype={thresholdX:0,thresholdY:0,topInView:!1,bottomInView:!1,rightInView:!1,leftInView:!1,xCovered:!1,yCovered:!1,isInView:!1,triggerEvents:function(t,e){var n=this,r=n.isInView,o=n.isInView=e.xVisible&&e.yVisible,i=function(e){return{type:e,scrollEvent:t,scrollData:n.scrollMonitor}};n.xVisible=e.xVisible,n.yVisible=e.yVisible,["top","bottom","left","right"].forEach((function(t){var a=t+"InBounds",s=t+"InView";if(e[a]!==n[s]||o!==r){var c=o&&e[a];c!==n[s]&&(n[s]=c,n.$trigger(i(c?t+"EnterView":t+"ExitView")))}})),!r&&o&&n.$trigger(i("enterView")),r&&!o&&n.$trigger(i("exitView")),o?n.$trigger(i("inView")):n.$trigger(i("outOfView"))}},u.prototype={getOffset:function(t){return("fixed"===t.css("position")?t.scrollTop():t.offset().top)+t.height()},scrollTo:function(e,n,r,o,a){var s=n||400,c="number"==typeof r?r:0;!c&&r&&r.jquery&&(c=this.getOffset(r)),"number"!=typeof e&&(e=t(e).offset().top),o&&o(),i.animate({scrollTop:e-c},s).promise().done(a)}},u}(jQuery||Zepto,n(0));t.exports?t.exports=o:void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o=function(t,e){var n=t(window);function r(t,e,n){var r=window.innerWidth||window.clientWidth,o="string"==typeof n&&n;return!(!o||!t[o])&&(o=t[o],">"===e?r>o[1]:"<"===e?r<o[0]:">="===e?r>=o[0]:"<="===e?r<=o[1]:r>=o[0]&&r<=o[1])}return function(o,i){var a=e(this),s="";function c(){var t,e=a.currentBreakpoint;for(var n in a.breakpoints)r(a.breakpoints,"=",n)&&(t=n);t&&t!==e&&(a.currentBreakpoint=t,a.$element&&(s=function(t,e,n,r){var o="";for(var i in t.removeClass(r),t.addClass("viewport-"+e),n)o+=" viewport-"+i;return o}(a.$element,t,a.breakpoints,s)),a.$trigger({type:"viewportBreakpointChanged",newBreakpoint:t,oldBreakpoint:e}))}this.breakpoints=o,i&&(this.$element=i.addClass?i:t(i)),this.breakpoint=function(t,e){return!t&&e?e==e:e?r(a.breakpoints,t,e):a.currentBreakpoint},this.refresh=c,this.destroy=function(){n.off("resize",c),a.$destroyDispatch()},n.on("resize",c),this.refresh()}}(jQuery||Zepto,n(0));t.exports&&(t.exports=o),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o=function(t,e,n,r,o){var i=n.transitions,a=n.animations;function s(e,n){var c=r(this);function u(t,e){return{type:t,originalEvent:e}}function l(t){return t&&(t.target||t.srcElement||t.originalTarget)===c.element[0]}function f(t){l(t)&&c.$trigger(u("transitionStart",t))}function p(t){l(t)&&c.$trigger(u("transitionEnd",t))}function d(t){l(t)&&c.$trigger(u("animationStart",t))}function h(t){l(t)&&c.$trigger(u("animationEnd",t))}c.element=t(e),c.options=o.objectAssign({},s.prototype.options,n),c.element.on(i.start,f),c.element.on(i.end,p),c.element.on(a.start,d),c.element.on(a.end,h),c.destroy=function(){c.element.off(i.start,f),c.element.off(i.end,p),c.element.off(a.start,d),c.element.off(a.end,h),c.$destroyDispatch()}}return s.prototype={options:{maxDuration:3e3},addClass:function(t,e,n){return this.manipulate("addClass",t,e,n)},removeClass:function(t,e,n){return this.manipulate("removeClass",t,e,n)},toggleClass:function(t,e,n){return this.manipulate("toggleClass",t,e,n)},manipulate:function(t,n,r,o){var i=this;return"number"!=typeof o&&(o=i.options.maxDuration),new e((function(e,a){var s=setTimeout((function(){a(new Error("Transition not detected in time..."))}),o),c=!1;function u(t){c||(c=!0,clearTimeout(s),e(t))}i.$once(r||"transitionEnd",u),r||i.$once("animationEnd",u),i.element[t](n)}))}},s}(jQuery||Zepto,n(1),n(3),n(0),n(2));t.exports?t.exports=o:void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o=function(t,e,n){var r=!!navigator.msPointerEnabled,o=function(t){return r?"MS"+t:t.toLowerCase()},i=(!(!r&&!navigator.pointerEnabled)||!!("ontouchstart"in window)&&navigator.userAgent.indexOf("PhantomJS"),{touchstart:o("PointerDown")+" touchstart",touchend:o("PointerUp")+" touchend",touchmove:o("PointerMove")+" touchmove"}),a={swipeThreshold:100,tapThreshold:150,dbltapThreshold:200,tapPrecision:30,justTouchEvents:!1};function s(t){return t.targetTouches?t.targetTouches[0]:t}function c(){return(new Date).getTime()}function u(t,e,n){for(var r=e.split(" "),o=r.length;o--;)t.addEventListener(r[o],n,!1)}return function(r,o){var l,f,p,d,h,m,v,g=e(this),w=n.objectAssign({},a,o||{}),$=0;if(!document.addEventListener)return this;function y(e,n,r,o){(o=o||{}).x=l,o.y=f,o.distance=o.distance,t(e).trigger(n,o),g.$trigger(n,o)}g.element=t(r),u(r=g.element[0],i.touchstart+(w.justTouchEvents?"":" mousedown"),(function(t){var e=s(t);p=l=e.pageX,d=f=e.pageY,m=c(),$++})),u(r,i.touchend+(w.justTouchEvents?"":" mouseup"),(function(t){var e=[],n=d-f,r=p-l;if(clearTimeout(h),r<=-w.swipeThreshold&&e.push("swipeRight"),r>=w.swipeThreshold&&e.push("swipeLeft"),n<=-w.swipeThreshold&&e.push("swipeDown"),n>=w.swipeThreshold&&e.push("swipeUp"),e.length)for(var o,i=0;i<e.length;i++)o=e[i],y(t.target,o,0,{distance:{x:Math.abs(r),y:Math.abs(n)}});else m+w.tapThreshold-c()>=0&&p>=l-w.tapPrecision&&p<=l+w.tapPrecision&&d>=f-w.tapPrecision&&d<=f+w.tapPrecision&&(y(t.target,2===$&&v===t.target?"dbltap":"tap"),v=t.target),h=setTimeout((function(){$=0}),w.dbltapThreshold)})),u(r,i.touchmove+(w.justTouchEvents?"":" mousemove"),(function(t){var e=s(t);l=e.pageX,f=e.pageY}))}}(jQuery||Zepto,n(0),n(2));t.exports&&(t.exports=o),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;function o(t,e,n,r){return function o(i,a){var s,c=a.cssTransitions&&t.$browser.transitions,u=a.targetLoadingClass+"-transition-in",l=a.targetLoadingClass+"-transition-out";if(e.$broadcast({type:"$viewLoading",request:i}),!c||r.hasClass(l))return d();function f(o){e.$broadcast({type:"$viewLoaded",request:i,response:o});var l=t.$(o.data.targetHtml).addClass(a.targetLoadingClass);return e.$broadcast({type:"$viewExit",$target:r,$replacement:l}),r.triggerHandler("$destroy"),t.isFunction(a.scrollTo)?a.scrollTo(r)&&t.$scrollMonitor.scrollTo(r,0):a.scrollTo&&window.scrollTo(r.offset().top,r.offset().left),l.insertBefore(r),r.remove(),t.$compiler.compile(l[0],null,!0).then((function(o){return r=l,n.removeClass(a.loadingClass),e.$broadcast({type:"$viewEnter",$target:l}),c?new t.Promise((function(e){s=new t.TransitionMonitor(l),t.requestAnimationFrame((function(){var t=function(){s.destroy(),l.removeClass(a.targetLoadingClass),e(o)};s.addClass(u).then(t).catch(t)}))})):(l.removeClass(a.targetLoadingClass),o)}))}function p(t){if(404===t.status){if(i.url.indexOf(a.errorPage)<0)return o({state:{targetElement:a.mainView},title:i.state.title,url:a.errorPage,redirectedUrl:i.url},a);alert("The path "+(i.redirectedUrl||i.url)+" could not be found...")}else 500===t.status&&a.onServerError&&a.onServerError(t,i);console.error("Http error: ",t),e.$broadcast({type:"$viewEnter",error:t}),r.removeClass(l).addClass(u),n.removeClass(a.loadingClass)}function d(){return s&&s.destroy(),t.$provider.service("$router").http(i).then(f).catch(p)}return n.addClass(a.loadingClass),(s=new t.TransitionMonitor(r.removeClass(u))).addClass(l).then(d).catch(d)}}t.exports?t.exports=o:void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,o,i=(o=n(1),function(t){return new o((function(e,n){var r=new Image;r.onload=e,r.onerror=n,r.src=t,r.complete&&r.naturalWidth&&e()}))});t.exports?t.exports=i:void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){function r(t,e){function n(){var t=this,e=[];t.base="/",t.isInternalRoute=function(e){return e.substring(0,t.base.length)===t.base||-1===e.indexOf(":")},t.isValidRoute=function(n){if(!t.isInternalRoute(n))return!1;for(var r=e.length,o=n===t.base?r+1:0;o<r;o++)if(0===n.indexOf(e[o]))return!1;return!0},t.blacklist=function(t){Array.isArray(t)?e=e.concat(t):e.push(t)}}return n.prototype.evalHtmlResponse=function(e,n,r){var o={html:e};r||(o.sanitizedHtml=function(t,e){var n=String(t);if(!n.length)return;e&&(-1===n.indexOf("<html")&&(n="<html><head></head><body>"+n+"</body></html>"),n=n.replace(/<\!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|meta|link)([\s\>])/gi,'<div class="document-$1"$2').replace(/<\/(html|head|body|title|meta|link)\>/gi,"</div>").replace(/<script/gi," \x3c!-- <script").replace(/\/script>/gi,"/script> --\x3e "));return n.trim()}(e,!0));var i=t("<div>"+(o.sanitizedHtml||e)+"</div>");return o.metaData=function(t){return{title:decodeURI(t.find(".document-title:first").text()||"")}}(i),o.targetHtml=i.find(n).get(0),o.scripts=e.match(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi),i=null,o},n.prototype.navigate=function(t){if(e.$trigger({type:"$routeChange",request:t}),!e.$browser.historyAPI||!e.$config.html5Mode)return window.location.href=t.url;window.history.pushState(t.state,t.title,t.url),t.title&&e.updatePageTitle(t.title)},n.prototype.ajax=function(n){return new e.Promise((function(e,r){t.ajax({url:n.url,data:n.data,type:n.method,headers:n.headers,success:function(t,r,o){e({data:t,request:n,textStatus:r,jqXHR:o})},error:function(t,e,n){r(t)}})}))},n.prototype.http=function(t){var n=this;return t.changeAppRoute&&(e.$trigger({type:"$routeChange.start",request:t}),n.navigate(t)),n.ajax(t).then((function(r){if(t.state.targetElement){var o=n.evalHtmlResponse(r.data,t.state.targetElement);if(!o.targetHtml){var i=new Error('The target html "'+t.state.targetElement+'" was not found.');throw i.status=500,i}r.data=o,!t.title&&o.metaData&&o.metaData.title&&e.updatePageTitle(o.metaData.title)}return t.changeAppRoute&&e.$trigger({type:"$routeChange.end",request:t,response:r}),r})).catch((function(n){return t.changeAppRoute&&e.$trigger({type:"$routeChange.end",request:t,error:n}),e.Promise.reject(n)}))},new n}r.$dependencies=["$","$app"],t.exports&&(t.exports=r)},function(t,e,n){function r(t){return{scope:!0,data:{controller:void 0,controllerAs:void 0},link:function(e,n,r){var o;t.isFunction(r.controller)?o=t.$provider.instantiate(r.controller,{$scope:n}):t.isString(r.controller)&&(o=t.$provider.controller(r.controller,null,{$scope:n})),o&&t.isString(r.controllerAs)&&(n[r.controllerAs]=o)}}}r.$dependencies=["$app"],t.exports&&(t.exports=r)},function(t,e,n){function r(t,e,n,r,o){var i,a={};return{scope:!0,data:{mainView:"body",scrollTo:!0,cssTransitions:!1,changeAppRoute:!0,linkSelector:"a,[ajax-href]",linkFilter:".ajax-ignore",requestMethod:"GET",requestHeaders:void 0,loadingClass:"view-loading",targetLoadingClass:"ajax-loading",errorPage:"/404",onServerError:function(t,e){window.confirm("There has been a server error, do you want to reload the page?")&&window.location.replace(e.url)}},link:function(s,c,u){var l,f=o.find(u.mainView);function p(t,n){var r={$$ARENA:e.$config.name,title:n};return r.targetElement=t.targetElement||u.mainView,r.method=t.requestMethod||u.requestMethod,r.data=t.requestData||u.requestData,r.headers=t.requestHeaders||u.requestHeaders,r}function d(r){var o,a,s={changeAppRoute:u.changeAppRoute};return!(2!=r.which&&!r.metaKey&&!(o=t(this)).is(u.linkFilter))||(a=o.data(),s.url=o.attr("href")||a.ajaxHref,0===s.url.indexOf("#")||s.url!=window.location.pathname&&(!n.isValidRoute(s.url)||(e.isDefined(a.changeAppRoute)&&(s.changeAppRoute=a.changeAppRoute),e.isFunction(a.ajaxRequestCallback)&&(s.callback=a.ajaxRequestCallback),s.state=p(a,s.title),!(!s.changeAppRoute||e.$browser.historyAPI&&e.$config.html5Mode)||(r.preventDefault(),i!==u.mainView&&r.stopPropagation(),void l(s,u)))))}function h(e){if(e.originalEvent.state){var n=e.originalEvent.state.targetElement;i!==u.mainView||n&&a[n]&&t(n).length||(n=e.originalEvent.state.targetElement=i),n===u.mainView&&l({state:e.originalEvent.state,title:e.originalEvent.state.title,url:window.location.pathname+window.location.search},u)}}f.length&&(f.data("controller")||f.attr("controller","mainViewTarget"),e.$browser.historyAPI&&e.$config.html5Mode&&u.changeAppRoute&&(l=e.viewUpdater(e,c,s,f),function(){if(a[u.mainView]={triggerElement:s},i&&window.history.state&&window.history.state.$$ARENA)return;window.history.replaceState(p({},document.title),document.title,window.location.href),i=u.mainView}(),s.on("$compile.end",(function(){r.on("popstate",h),s.on("click",u.linkSelector,d),c.$on("$destroy",(function(){a[u.mainView]&&(a[u.mainView]=void 0),i===u.mainView&&(i=void 0),r.off("popstate",h),s.off("click",u.linkSelector,d)}))}))))}}}r.$dependencies=["$","$app","$router","$window","$rootElement"],t.exports&&(t.exports=r)}]);
//# sourceMappingURL=arena.min.js.map